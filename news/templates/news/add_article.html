{% extends "base.html" %}
{% block content %}
<div class="container mt-4">
    <h1 class="mb-4">Добавить новую статью</h1>

    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <!-- Поле для изображения -->
        <div class="form-group mb-4">
            <label class="form-label fw-bold">Обложка статьи:</label>
            <div class="custom-file">
                {{ form.image }}
                <label class="custom-file-label" for="{{ form.image.id_for_label }}">
                    Выберите файл (JPEG, PNG)
                </label>
            </div>
            <small class="form-text text-muted">
                Максимальный размер файла: 5 МБ
            </small>
        </div>
        <!-- Основные поля формы -->
        <div class="form-group mb-4">
            <label class="form-label fw-bold">Заголовок:</label>
            {{ form.title }}
            {% if form.title.errors %}
                <div class="alert alert-danger mt-2">
                    {{ form.title.errors }}
                </div>
            {% endif %}


        </div>

        <div class="form-group mb-4">
            <label class="form-label fw-bold">Текст статьи:</label>
            {{ form.content }}
            {% if form.content.errors %}
                <div class="alert alert-danger mt-2">
                    {{ form.content.errors }}
                </div>
            {% endif %}
        </div>
        <div class="row mb-4">
            <div class="col-md-6">
                <div class="form-group">
                    <label class="form-label fw-bold">Категория:</label>
                    {{ form.category }}
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label class="form-label fw-bold">Теги:</label>
                    {{ form.tags }}
                </div>
            </div>
        </div>
        <div class="d-grid gap-2 d-md-flex justify-content-md-end">
            <button type="submit" class="btn btn-primary btn-lg">
                <i class="bi bi-save"></i> Опубликовать
            </button>
            <a href="{% url 'news:catalog' %}" class="btn btn-secondary btn-lg">
                <i class="bi bi-x-circle"></i> Отмена
            </a>
        </div>
    </form>
    <!-- Форма для загрузки JSON-файла -->
    <form method="post" enctype="multipart/form-data" action="{% url 'news:upload_json' %}">
        {% csrf_token %}
        <div class="form-group mt-4">
            <label class="form-label fw-bold">Загрузить JSON-файл:</label>
            <input type="file" name="json_file" class="form-control" accept=".json">
        </div>
        <button type="submit" class="btn btn-success mt-2">
            <i class="bi bi-upload"></i> Загрузить новости
        </button>
    </form>
</div>
{% endblock %}